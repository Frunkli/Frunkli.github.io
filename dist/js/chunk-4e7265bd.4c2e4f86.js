(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e7265bd"],{"010a":function(e,t,a){},"93a5":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"colorsList"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[a("a",{attrs:{href:"/home"}},[e._v("维修物品列表")])]),a("el-breadcrumb-item",[e._v("机型库")])],1),a("div",{staticClass:"container"},[a("div",{staticClass:"custom-card"},[e._m(0),a("div",{staticClass:"card-main"},[a("el-form",{ref:"ruleForm",staticStyle:{width:"100%","margin-top":"8px"},attrs:{model:e.query,"label-position":"right",size:"small","label-width":"auto","label-suffix":":"}},[a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{lg:10,md:12,sm:24}},[a("el-form-item",{attrs:{label:"设备名称"}},[a("el-input",{staticStyle:{width:"88%"},attrs:{clearable:"",size:"small"},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}})],1)],1),a("el-col",{attrs:{lg:10,md:12,sm:24}},[a("el-form-item",{attrs:{label:"设备编号"}},[a("el-input",{staticStyle:{width:"88%"},attrs:{clearable:"",size:"small"},model:{value:e.query.model,callback:function(t){e.$set(e.query,"model",t)},expression:"query.model"}})],1)],1),a("el-col",{staticStyle:{"text-align":"right","padding-right":"35px"},attrs:{span:24}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.queryEvent}},[e._v("查询")])],1)],1)],1)],1)]),a("div",{staticClass:"custom-card"},[e._m(1),a("div",{staticClass:"card-main"},[a("el-col",{staticClass:"col-right",attrs:{span:24}},[a("div",{staticClass:"btn-box"},[a("div",{staticClass:"icon-item add",on:{click:e.addModel}},[e._v(" 添加型号 ")])])]),a("el-row",[a("el-table",{staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.list.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),stripe:"",border:"","header-cell-style":{background:"#eef1f6",color:"#606266"}}},[a("el-table-column",{attrs:{prop:"name",label:"设备名称"}}),a("el-table-column",{attrs:{prop:"model",label:"设备编号"}}),a("el-table-column",{attrs:{label:"编辑"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"#2897ff",cursor:"pointer","margin-right":"30px"},on:{click:function(a){return e.updataRow(t.row)}}},[e._v("编辑")]),a("span",{staticStyle:{color:"#2897ff",cursor:"pointer"},on:{click:function(a){return e.deleteRow(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-row",[a("el-pagination",{staticClass:"pagin",attrs:{"current-page":1,"page-sizes":[10,20,30,40,50],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.list.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),a("el-dialog",{attrs:{title:"添加型号",visible:e.addDialogVisible,width:"70%"},on:{"update:visible":function(t){e.addDialogVisible=t},close:e.addCateDialogClose}},[a("el-row",[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"设备名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"华为Mate10（录入安卓机型即可）"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"设备编号",prop:"model"}},[a("el-input",{attrs:{placeholder:"ALP-AL00"},model:{value:e.addForm.model,callback:function(t){e.$set(e.addForm,"model",t)},expression:"addForm.model"}})],1)],1)],1),a("el-row",[a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:10}},[a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1),a("el-col",{staticStyle:{opacity:"0"},attrs:{span:4}},[e._v("11")]),a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:10}},[a("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)],1)],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card-header"},[a("div",{staticClass:"card-header-title"},[e._v("添加机型")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card-header"},[a("div",{staticClass:"card-header-title"},[e._v("型号列表")])])}],i={components:{},data:function(){return{list:[],currentPage:1,pagesize:10,addDialogVisible:!1,addForm:{name:"",model:""},query:{name:"",model:""},val:null}},computed:{},mounted:function(){this.queryEvent()},methods:{updataRow:function(e){this.addDialogVisible=!0,this.val=2},deleteRow:function(e){var t=this;this.$axios.get("deleteModel?id=".concat(e._id)).then((function(e){var a=e.data;200==a.status?(t.$message.success("删除成功"),t.queryEvent()):t.$message.error("删除失败")}))},handleSizeChange:function(e){this.pagesize=e,this.queryEvent()},handleCurrentChange:function(e){this.currentPage=e,this.queryEvent()},queryEvent:function(){var e=this;this.$axios.post("getModelList",this.query).then((function(t){var a=t.data;200==a.status&&(e.list=a.data)}))},addModel:function(){this.addDialogVisible=!0,this.val=1},save:function(){var e=this,t=1===this.val?"addModel/add":"addModel/updata";this.$axios.post(t,this.addForm).then((function(t){var a=t.data;200==a.status?(e.$message.success(a.message),e.addDialogVisible=!1,e.queryEvent()):e.$message.error(a.message)}))},cancel:function(){this.$refs.addForm.resetFields(),this.addDialogVisible=!1,this.val=null},addCateDialogClose:function(){this.$refs.addForm.resetFields(),this.addDialogVisible=!1,this.val=null}}},r=i,o=(a("a5fb"),a("2877")),n=Object(o["a"])(r,l,s,!1,null,"5167deea",null);t["default"]=n.exports},a5fb:function(e,t,a){"use strict";var l=a("010a"),s=a.n(l);s.a}}]);
//# sourceMappingURL=chunk-4e7265bd.4c2e4f86.js.map