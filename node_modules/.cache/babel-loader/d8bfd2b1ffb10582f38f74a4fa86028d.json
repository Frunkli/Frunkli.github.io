{"remainingRequest":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/babel-loader/lib/index.js!/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liyanliang/Desktop/便家/tob-bianjia-clint/src/components/goods/Add.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/src/components/goods/Add.vue","mtime":1679735545016},{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9saXlhbmxpYW5nL0Rlc2t0b3AvXHU0RkJGXHU1QkI2L3RvYi1iaWFuamlhLWNsaW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IF8gZnJvbSAibG9kYXNoIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmVJbmRleDogIjAiLAogICAgICBhZGRGb3JtOiB7CiAgICAgICAgZ29vZHNfbmFtZTogIiIsCiAgICAgICAgZ29vZHNfcHJpY2U6IDAsCiAgICAgICAgZ29vZHNfd2VpZ2h0OiAwLAogICAgICAgIGdvb2RzX251bWJlcjogMCwKICAgICAgICAvLyDllYblk4HliIbnsbvmlbDnu4QKICAgICAgICBnb29kc19jYXQ6IFtdLAogICAgICAgIHBpY3M6IFtdLAogICAgICAgIGdvb2RzX2ludHJvZHVjZTogIiIsCiAgICAgICAgYXR0cnM6IFtdCiAgICAgIH0sCiAgICAgIGFkZEZvcm1SdWxlczogewogICAgICAgIGdvb2RzX25hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXllYblk4HlkI3np7AiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgZ29vZHNfcHJpY2U6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXllYblk4Hku7fmoLwiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgZ29vZHNfd2lnaHQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXllYblk4Hph43ph48iLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgZ29vZHNfbnVtYmVyOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5ZWG5ZOB5pWw6YePIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGdvb2RzX2NhdDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeWVhuWTgeWIhuexuyIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9LAogICAgICBjYXRlbGlzdDogW10sCiAgICAgIGNhdGVQcm9wczogewogICAgICAgIGV4cGFuZFRyaWdnZXI6ICJob3ZlciIsCiAgICAgICAgdmFsdWU6ICJjYXRfaWQiLAogICAgICAgIGxhYmVsOiAiY2F0X25hbWUiLAogICAgICAgIGNoaWxkcmVuOiAiY2hpbGRyZW4iCiAgICAgIH0sCiAgICAgIC8vIOWKqOaAgeWPguaVsOaVsOaNrgogICAgICBtYW55VGFibGVEYXRhOiBbXSwKICAgICAgb25seVRhYmxlRGF0YTogW10sCiAgICAgIHVwVVJMOiAiaHR0cHM6Ly93d3cubGl1bG9uZ2Jpbi50b3A6ODg4OC9hcGkvcHJpdmF0ZS92MS91cGxvYWQiLAogICAgICAvLyDlm77niYfkuIrkvKDor7fmsYLlpLQKICAgICAgaGVhZGVyT2JqOiB7CiAgICAgICAgQXV0aG9yaXphdGlvbjogd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRva2VuIikKICAgICAgfSwKICAgICAgcGljczogW10sCiAgICAgIHByZXZpZXdQYXRoOiAiIiwKICAgICAgcHJldmlld1Zpc2libGU6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0Q2F0ZUxpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldENhdGVMaXN0OiBmdW5jdGlvbiBnZXRDYXRlTGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpcyQkaHR0cCRnZSwgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kaHR0cC5nZXQoImNhdGVnb3JpZXMiKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzJCRodHRwJGdlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHJlcyA9IF95aWVsZCRfdGhpcyQkaHR0cCRnZS5kYXRhOwoKICAgICAgICAgICAgICAgIGlmICghKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX3RoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1ldGEubXNnKSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzLmNhdGVsaXN0ID0gcmVzLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBDYXRlQ2hhbmdlZDogZnVuY3Rpb24gQ2F0ZUNoYW5nZWQoKSB7CiAgICAgIGlmICh0aGlzLmFkZEZvcm0uZ29vZHNfY2F0Lmxlbmd0aCAhPT0gMykgewogICAgICAgIHRoaXMuYWRkRm9ybS5nb29kc19jYXQgPSBbXTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLor7fpgInmi6nkuInnuqfliIbnsbsiKTsKICAgICAgfQogICAgfSwKICAgIGJlZm9yVGFiTGVhdmU6IGZ1bmN0aW9uIGJlZm9yVGFiTGVhdmUoYWN0aXZlTmFtZSwgb2xkQWN0aXZlTmFtZSkgewogICAgICAvLyBjb25zb2xlLmxvZyhhY3RpdmVOYW1lLCBvbGRBY3RpdmVOYW1lKTsKICAgICAgaWYgKG9sZEFjdGl2ZU5hbWUgPT09ICIwIiAmJiB0aGlzLmFkZEZvcm0uZ29vZHNfY2F0Lmxlbmd0aCAhPT0gMykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+mAieaLqeS4iee6p+WVhuWTgeWIhuexuyIpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIHRhYkNsaWNrZWQ6IGZ1bmN0aW9uIHRhYkNsaWNrZWQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpczIkJGh0dHAkZywgcmVzLCBfeWllbGQkX3RoaXMyJCRodHRwJGcyLCBfcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMyLmFjdGl2ZUluZGV4ID09PSAiMSIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJGh0dHAuZ2V0KCJjYXRlZ29yaWVzLyIuY29uY2F0KF90aGlzMi5jYXRlSWQsICIvYXR0cmlidXRlcyIpLCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIHNlbDogIm1hbnkiCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMyJCRodHRwJGcgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHJlcyA9IF95aWVsZCRfdGhpczIkJGh0dHAkZy5kYXRhOwoKICAgICAgICAgICAgICAgIGlmICghKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoIuiOt+WPluWksei0pe+8gSIpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgICAgICAgICAgcmVzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICBpdGVtLmF0dHJfdmFscyA9IGl0ZW0uYXR0cl92YWxzLmxlbmd0aCA9PT0gMCA/IFtdIDogaXRlbS5hdHRyX3ZhbHMuc3BsaXQoIiAiKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX3RoaXMyLm1hbnlUYWJsZURhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMi5hY3RpdmVJbmRleCA9PT0gIjIiKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kaHR0cC5nZXQoImNhdGVnb3JpZXMvIi5jb25jYXQoX3RoaXMyLmNhdGVJZCwgIi9hdHRyaWJ1dGVzIiksIHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgc2VsOiAib25seSIKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMyJCRodHRwJGcyID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfcmVzID0gX3lpZWxkJF90aGlzMiQkaHR0cCRnMi5kYXRhOwoKICAgICAgICAgICAgICAgIGlmICghKF9yZXMubWV0YS5zdGF0dXMgIT09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF90aGlzMi4kbWVzc2FnZS5lcnJvcigi6I635Y+W5aSx6LSl77yBIikpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgICAgICAgICAgX3Jlcy5kYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgaXRlbS5hdHRyX3ZhbHMgPSBpdGVtLmF0dHJfdmFscy5sZW5ndGggPT09IDAgPyBbXSA6IGl0ZW0uYXR0cl92YWxzLnNwbGl0KCIgIik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczIub25seVRhYmxlRGF0YSA9IF9yZXMuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWkhOeQhuWbvueJh+mihOiniAogICAgaGFuZGxlUHJldmlldzogZnVuY3Rpb24gaGFuZGxlUHJldmlldyhmaWxlKSB7CiAgICAgIHRoaXMucHJldmlld1BhdGggPSBmaWxlLnJlc3BvbnNlLmRhdGEudXJsOwogICAgICB0aGlzLnByZXZpZXdWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvL+enu+mZpAogICAgaGFuZGxlUmVtb3ZlOiBmdW5jdGlvbiBoYW5kbGVSZW1vdmUoZmlsZSkgewogICAgICB2YXIgcGljUGF0aCA9IGZpbGUucmVzcG9uc2UuZGF0YS50bXBfcGF0aDsKICAgICAgdmFyIGkgPSB0aGlzLmFkZEZvcm0ucGljcy5maW5kSW5kZXgoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC5waWMgPT09IHBpY1BhdGg7CiAgICAgIH0pOwogICAgICB0aGlzLmFkZEZvcm0ucGljcy5zcGxpY2UoaSwgMSk7CiAgICB9LAogICAgaGFuZGxlU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlU3VjY2VzcyhyZXMpIHsKICAgICAgdmFyIHBpY0luZm8gPSB7CiAgICAgICAgcGljOiByZXMuZGF0YS50bXBfcGF0aAogICAgICB9OwogICAgICB0aGlzLmFkZEZvcm0ucGljcy5wdXNoKHBpY0luZm8pOyAvLyBjb25zb2xlLmxvZyh0aGlzLmFkZEZvcm0pOwogICAgfSwKICAgIGFkZDogZnVuY3Rpb24gYWRkKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuYWRkRm9ybSk7CiAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybVJlZi52YWxpZGF0ZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTModmFsaWQpIHsKICAgICAgICAgIHZhciBmb3JtLCBfeWllbGQkX3RoaXMzJCRodHRwJHAsIHJlczsKCiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBfdGhpczMuJG1lc3NhZ2UuZXJyb3IoIuivt+Whq+WGmeW/heimgeeahOS/oeaBryIpKTsKCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIGZvcm0gPSBfLmNsb25lRGVlcChfdGhpczMuYWRkRm9ybSk7CiAgICAgICAgICAgICAgICAgIGZvcm0uZ29vZHNfY2F0ID0gZm9ybS5nb29kc19jYXQuam9pbigiLCIpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzLm1hbnlUYWJsZURhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgIHZhciBuZXdJbmZvID0gewogICAgICAgICAgICAgICAgICAgICAgYXR0cl9pZDogaXRlbS5hdHRyX2lkLAogICAgICAgICAgICAgICAgICAgICAgYXR0cl92YWx1ZTogaXRlbS5hdHRyX3ZhbHMuam9pbigiICIpCiAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmFkZEZvcm0uYXR0cnMucHVzaChuZXdJbmZvKTsKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczMub25seVRhYmxlRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0luZm8gPSB7CiAgICAgICAgICAgICAgICAgICAgICBhdHRyX2lkOiBpdGVtLmF0dHJfaWQsCiAgICAgICAgICAgICAgICAgICAgICBhdHRyX3ZhbHVlOiBpdGVtLmF0dHJfdmFscwogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIF90aGlzMy5hZGRGb3JtLmF0dHJzLnB1c2gobmV3SW5mbyk7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgZm9ybS5hdHRycyA9IF90aGlzMy5hZGRGb3JtLmF0dHJzOyAvLyBjb25zb2xlLmxvZyhmb3JtKTsKCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kaHR0cC5wb3N0KCJnb29kcyIsIGZvcm0pOwoKICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzMyQkaHR0cCRwID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICAgIHJlcyA9IF95aWVsZCRfdGhpczMkJGh0dHAkcC5kYXRhOwoKICAgICAgICAgICAgICAgICAgaWYgKCEocmVzLm1ldGEuc3RhdHVzICE9PSAyMDEpKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF90aGlzMy4kbWVzc2FnZS5lcnJvcigi5re75Yqg5aSx6LSlIikpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5zdWNjZXNzKCLmt7vliqDllYblk4HmiJDlip/vvIEiKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMy4kcm91dGVyLnB1c2goIi9nb29kcyIpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjYXRlSWQ6IGZ1bmN0aW9uIGNhdGVJZCgpIHsKICAgICAgaWYgKHRoaXMuYWRkRm9ybS5nb29kc19jYXQubGVuZ3RoID09PSAzKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYWRkRm9ybS5nb29kc19jYXRbMl07CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Add.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <!-- 面包屑 -->\n    <el-breadcrumb separator=\"/\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>\n        <a href=\"/home\">商品管理</a>\n      </el-breadcrumb-item>\n      <el-breadcrumb-item>添加商品</el-breadcrumb-item>\n    </el-breadcrumb>\n\n    <!-- 卡片布局 -->\n    <el-card>\n      <el-alert title=\"添加商品信息\" type=\"info\" :closable=\"false\" center show-icon></el-alert>\n      <!-- 步骤条 -->\n\n      <el-steps align-center :space=\"200\" :active=\"activeIndex-0\" finish-status=\"success\">\n        <el-step title=\"基本信息\"></el-step>\n        <el-step title=\"商品参数\"></el-step>\n        <el-step title=\"商品信息\"></el-step>\n        <el-step title=\"商品图片\"></el-step>\n        <el-step title=\"商品内容\"></el-step>\n        <el-step title=\"完成\"></el-step>\n      </el-steps>\n\n      <!-- tab栏 -->\n      <el-form\n        :model=\"addForm\"\n        :rules=\"addFormRules\"\n        ref=\"addFormRef\"\n        label-width=\"100px\"\n        label-position=\"top\"\n      >\n        <el-tabs\n          @tab-click=\"tabClicked\"\n          :before-leave=\"beforTabLeave\"\n          v-model=\"activeIndex\"\n          :tab-position=\"'left'\"\n        >\n          <el-tab-pane name=\"0\" label=\"基本信息\">\n            <el-form-item label=\"商品名称\" prop=\"goods_name\">\n              <el-input v-model=\"addForm.goods_name\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"商品价格\" prop=\"goods_price\">\n              <el-input v-model=\"addForm.goods_price\" type=\"number\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"商品重量\" prop=\"goods_weight\">\n              <el-input v-model=\"addForm.goods_weight\" type=\"number\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"商品数量\" prop=\"goods_number\">\n              <el-input v-model=\"addForm.goods_number\" type=\"number\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"商品分类：\" prop=\"goods_cat\">\n              <el-cascader\n                :options=\"catelist\"\n                :props=\"cateProps\"\n                clearable\n                v-model=\"addForm.goods_cat\"\n                @change=\"CateChanged\"\n              ></el-cascader>\n            </el-form-item>\n          </el-tab-pane>\n          <el-tab-pane name=\"1\" label=\"商品参数\">\n            <el-form-item :label=\"item.attr_name\" v-for=\"item in manyTableData\" :key=\"item.arrt_id\">\n              <!-- 复选框 -->\n              <el-checkbox-group v-model=\"item.attr_vals\">\n                <el-checkbox :label=\"cb\" v-for=\"(cb,i) in item.attr_vals\" :key=\"i\" border></el-checkbox>\n              </el-checkbox-group>\n            </el-form-item>\n          </el-tab-pane>\n          <el-tab-pane name=\"2\" label=\"商品信息\">\n            <el-form-item :label=\"item.attr_name\" v-for=\"item in onlyTableData\" :key=\"item.arrt_id\">\n              <!-- 复选框 -->\n              <el-checkbox-group v-model=\"item.attr_vals\">\n                <el-checkbox :label=\"cb\" v-for=\"(cb,i) in item.attr_vals\" :key=\"i\" border></el-checkbox>\n              </el-checkbox-group>\n              <el-input v-model=\"item.attr_vals\"></el-input>\n            </el-form-item>\n          </el-tab-pane>\n          <el-tab-pane name=\"3\" label=\"商品图片\">\n            <!-- 图片上传 -->\n            <!-- action上传地址 -->\n            <el-upload\n              :action=\"upURL\"\n              :on-preview=\"handlePreview\"\n              :on-remove=\"handleRemove\"\n              list-type=\"picture\"\n              :headers=\"headerObj\"\n              :on-success=\"handleSuccess\"\n            >\n              <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n              <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\n            </el-upload>\n          </el-tab-pane>\n          <el-tab-pane name=\"4\" label=\"商品内容\">\n            <quill-editor v-model=\"addForm.goods_introduce\"></quill-editor>\n            <el-button @click=\"add\" type=\"primary\" class=\"btnadd\">添加商品</el-button>\n          </el-tab-pane>\n        </el-tabs>\n      </el-form>\n    </el-card>\n\n    <!-- 图片预览 -->\n    <el-dialog title=\"图片预览\" :visible.sync=\"previewVisible\" width=\"50%\">\n      <img class=\"previewImg\" :src=\"previewPath\" alt=\"图片\" />\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport _ from \"lodash\";\nexport default {\n  data() {\n    return {\n      activeIndex: \"0\",\n      addForm: {\n        goods_name: \"\",\n        goods_price: 0,\n        goods_weight: 0,\n        goods_number: 0,\n        // 商品分类数组\n        goods_cat: [],\n        pics: [],\n        goods_introduce: \"\",\n        attrs: []\n      },\n      addFormRules: {\n        goods_name: [\n          { required: true, message: \"请输入商品名称\", trigger: \"blur\" }\n        ],\n        goods_price: [\n          { required: true, message: \"请输入商品价格\", trigger: \"blur\" }\n        ],\n        goods_wight: [\n          { required: true, message: \"请输入商品重量\", trigger: \"blur\" }\n        ],\n        goods_number: [\n          { required: true, message: \"请输入商品数量\", trigger: \"blur\" }\n        ],\n        goods_cat: [\n          { required: true, message: \"请选择商品分类\", trigger: \"blur\" }\n        ]\n      },\n      catelist: [],\n      cateProps: {\n        expandTrigger: \"hover\",\n        value: \"cat_id\",\n        label: \"cat_name\",\n        children: \"children\"\n      },\n      // 动态参数数据\n      manyTableData: [],\n      onlyTableData: [],\n      upURL: \"https://www.liulongbin.top:8888/api/private/v1/upload\",\n      // 图片上传请求头\n      headerObj: {\n        Authorization: window.sessionStorage.getItem(\"token\")\n      },\n      pics: [],\n      previewPath: \"\",\n      previewVisible: false\n    };\n  },\n  created() {\n    this.getCateList();\n  },\n  methods: {\n    async getCateList() {\n      const { data: res } = await this.$http.get(\"categories\");\n      if (res.meta.status !== 200) {\n        return this.$message.error(res.meta.msg);\n      }\n      this.catelist = res.data;\n    },\n    CateChanged() {\n      if (this.addForm.goods_cat.length !== 3) {\n        this.addForm.goods_cat = [];\n        this.$message.error(\"请选择三级分类\");\n      }\n    },\n    beforTabLeave(activeName, oldActiveName) {\n      // console.log(activeName, oldActiveName);\n      if (oldActiveName === \"0\" && this.addForm.goods_cat.length !== 3) {\n        this.$message.error(\"请选择三级商品分类\");\n        return false;\n      }\n    },\n    async tabClicked() {\n      if (this.activeIndex === \"1\") {\n        const { data: res } = await this.$http.get(\n          `categories/${this.cateId}/attributes`,\n          {\n            params: { sel: \"many\" }\n          }\n        );\n        if (res.meta.status !== 200) {\n          return this.$message.error(\"获取失败！\");\n        }\n        // console.log(res.data);\n        res.data.forEach(item => {\n          item.attr_vals =\n            item.attr_vals.length === 0 ? [] : item.attr_vals.split(\" \");\n        });\n        this.manyTableData = res.data;\n      } else if (this.activeIndex === \"2\") {\n        const { data: res } = await this.$http.get(\n          `categories/${this.cateId}/attributes`,\n          {\n            params: { sel: \"only\" }\n          }\n        );\n        if (res.meta.status !== 200) {\n          return this.$message.error(\"获取失败！\");\n        }\n        // console.log(res.data);\n        res.data.forEach(item => {\n          item.attr_vals =\n            item.attr_vals.length === 0 ? [] : item.attr_vals.split(\" \");\n        });\n        this.onlyTableData = res.data;\n      }\n    },\n    // 处理图片预览\n    handlePreview(file) {\n      this.previewPath = file.response.data.url;\n      this.previewVisible = true;\n    },\n    //移除\n    handleRemove(file) {\n      const picPath = file.response.data.tmp_path;\n      const i = this.addForm.pics.findIndex(x => x.pic === picPath);\n      this.addForm.pics.splice(i, 1);\n    },\n\n    handleSuccess(res) {\n      const picInfo = { pic: res.data.tmp_path };\n      this.addForm.pics.push(picInfo);\n      // console.log(this.addForm);\n    },\n    add() {\n      // console.log(this.addForm);\n      this.$refs.addFormRef.validate(async valid => {\n        if (!valid) {\n          return this.$message.error(\"请填写必要的信息\");\n        }\n        const form = _.cloneDeep(this.addForm);\n        form.goods_cat = form.goods_cat.join(\",\");\n        this.manyTableData.forEach(item => {\n          const newInfo = {\n            attr_id: item.attr_id,\n            attr_value: item.attr_vals.join(\" \")\n          };\n          this.addForm.attrs.push(newInfo);\n        });\n        this.onlyTableData.forEach(item => {\n          const newInfo = {\n            attr_id: item.attr_id,\n            attr_value: item.attr_vals\n          };\n          this.addForm.attrs.push(newInfo);\n        });\n        form.attrs = this.addForm.attrs;\n        // console.log(form);\n        const { data: res } = await this.$http.post(\"goods\", form);\n        if (res.meta.status !== 201) {\n          return this.$message.error(\"添加失败\");\n        }\n        this.$message.success(\"添加商品成功！\");\n        this.$router.push(\"/goods\");\n      });\n    }\n  },\n  computed: {\n    cateId() {\n      if (this.addForm.goods_cat.length === 3) {\n        return this.addForm.goods_cat[2];\n      }\n      return null;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.el-checkbox {\n  margin: 0 10px 0 0 !important;\n}\n.previewImg {\n  width: 100%;\n}\n</style>"],"sourceRoot":"src/components/goods"}]}