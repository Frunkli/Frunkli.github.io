{"remainingRequest":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/thread-loader/dist/cjs.js!/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/babel-loader/lib/index.js!/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liyanliang/Desktop/便家/tob-bianjia-clint/src/components/repairGoods/modelList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/src/components/repairGoods/modelList.vue","mtime":1686274217995},{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0OiBbXSwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIHBhZ2VzaXplOiAxMCwKICAgICAgYWRkRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGFkZEZvcm06IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBtb2RlbDogIiIKICAgICAgfSwKICAgICAgcXVlcnk6IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBtb2RlbDogIiIKICAgICAgfSwKICAgICAgdmFsOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnF1ZXJ5RXZlbnQoKTsKICB9LAogIC8v5pa55rOV6ZuG5ZCICiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiBAcGFyYW0ge3Jvd30gT2JqZWN0IOmAieS4reihjOaVsOaNrgogICAgICog6YCJ5Lit6KGM57yW6L6RCiAgICAgKi8KICAgIHVwZGF0YVJvdzogZnVuY3Rpb24gdXBkYXRhUm93KHJvdykgewogICAgICB0aGlzLmFkZERpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnZhbCA9IDI7CiAgICB9LAoKICAgIC8qKgogICAgICogQHBhcmFtIHtyb3d9IE9iamVjdCDpgInkuK3ooYzmlbDmja4KICAgICAqIOmAieS4reihjOWIoOmZpAogICAgICovCiAgICBkZWxldGVSb3c6IGZ1bmN0aW9uIGRlbGV0ZVJvdyhyb3cpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJGF4aW9zLmdldCgiZGVsZXRlTW9kZWw/aWQ9Ii5jb25jYXQocm93Ll9pZCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGE7CgogICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpOwoKICAgICAgICAgIF90aGlzLnF1ZXJ5RXZlbnQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WIoOmZpOWksei0pScpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlc2l6ZSA9IHZhbDsKICAgICAgdGhpcy5xdWVyeUV2ZW50KCk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHZhbDsKICAgICAgdGhpcy5xdWVyeUV2ZW50KCk7CiAgICB9LAoKICAgIC8qKiDmn6Xorr7lpIfliJfooaggKi8KICAgIHF1ZXJ5RXZlbnQ6IGZ1bmN0aW9uIHF1ZXJ5RXZlbnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kYXhpb3MucG9zdCgiZ2V0TW9kZWxMaXN0IiwgdGhpcy5xdWVyeSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTsKCiAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgX3RoaXMyLmxpc3QgPSBkYXRhLmRhdGE7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqIOa3u+WKoOiuvuWkhyAqLwogICAgYWRkTW9kZWw6IGZ1bmN0aW9uIGFkZE1vZGVsKCkgewogICAgICB0aGlzLmFkZERpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnZhbCA9IDE7CiAgICB9LAoKICAgIC8qKgogICAgICog5L+d5a2Y6aKc6Imy5Yiw5pWw5o2u5bqTCiAgICAgKi8KICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHVybCA9IHRoaXMudmFsID09PSAxID8gImFkZE1vZGVsL2FkZCIgOiAiYWRkTW9kZWwvdXBkYXRhIjsKICAgICAgdGhpcy4kYXhpb3MucG9zdCh1cmwsIHRoaXMuYWRkRm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTsKCiAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLnN1Y2Nlc3MoZGF0YS5tZXNzYWdlKTsKCiAgICAgICAgICBfdGhpczMuYWRkRGlhbG9nVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzMy5xdWVyeUV2ZW50KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcihkYXRhLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKiDlvLnmoYblj5bmtoggKi8KICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB0aGlzLiRyZWZzLmFkZEZvcm0ucmVzZXRGaWVsZHMoKTsKICAgICAgdGhpcy5hZGREaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMudmFsID0gbnVsbDsKICAgIH0sCgogICAgLyoqIOW8ueahhuWFs+mXrSAqLwogICAgYWRkQ2F0ZURpYWxvZ0Nsb3NlOiBmdW5jdGlvbiBhZGRDYXRlRGlhbG9nQ2xvc2UoKSB7CiAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybS5yZXNldEZpZWxkcygpOyAvLyB0aGlzLmFkZEZvcm0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY29weUFkZEZvcm0pKTsKCiAgICAgIHRoaXMuYWRkRGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLnZhbCA9IG51bGw7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["modelList.vue"],"names":[],"mappings":"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","sourcesContent":["<!--  -->\n<template>\n    <div class=\"colorsList\">\n        <!-- 面包屑 -->\n        <el-breadcrumb separator=\"/\">\n            <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>\n                <a href=\"/home\">维修物品列表</a>\n            </el-breadcrumb-item>\n            <el-breadcrumb-item>机型库</el-breadcrumb-item>\n        </el-breadcrumb>\n\n        <div class=\"container\">\n            <div class=\"custom-card\">\n                <div class=\"card-header\">\n                    <div class=\"card-header-title\">添加机型</div>\n                </div>\n                <div class=\"card-main\">\n                    <el-form :model=\"query\" ref=\"ruleForm\" label-position=\"right\" size=\"small\" label-width=\"auto\"\n                        style=\"width: 100%; margin-top: 8px\" label-suffix=\":\">\n                        <el-row :gutter=\"5\">\n                            <el-col :lg=\"10\" :md=\"12\" :sm=\"24\">\n                                <el-form-item label=\"设备名称\">\n                                    <el-input v-model=\"query.name\" clearable size=\"small\"\n                                        style=\"width: 88%\"></el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :lg=\"10\" :md=\"12\" :sm=\"24\">\n                                <el-form-item label=\"设备编号\">\n                                    <el-input v-model=\"query.model\" clearable size=\"small\" style=\"width: 88%\"></el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"24\" style=\"text-align:right;padding-right:35px\">\n                                <el-button size=\"small\" type=\"primary\" @click=\"queryEvent\">查询</el-button>\n                            </el-col>\n                        </el-row>\n                    </el-form>\n                </div>\n            </div>\n\n            <div class=\"custom-card\">\n                <div class=\"card-header\">\n                    <div class=\"card-header-title\">型号列表</div>\n                </div>\n                <div class=\"card-main\">\n                    <el-col :span=\"24\" class=\"col-right\">\n                        <div class=\"btn-box\">\n                            <div class=\"icon-item add\" @click=\"addModel\">\n                                添加型号\n                            </div>\n                        </div>\n                    </el-col>\n                    <el-row>\n                        <el-table :data=\"\n                            list.slice((currentPage - 1) * pagesize, currentPage * pagesize)\n                        \" stripe border style=\"width: 100%;margin:10px 0;\"\n                            :header-cell-style=\"{ background: '#eef1f6', color: '#606266' }\">\n                            <el-table-column prop=\"name\" label=\"设备名称\"></el-table-column>\n                            <el-table-column prop=\"model\" label=\"设备编号\"></el-table-column>\n                            <el-table-column label=\"编辑\">\n                                <template slot-scope=\"scope\">\n                                    <span @click=\"updataRow(scope.row)\"\n                                        style=\"color: #2897ff;cursor: pointer;margin-right: 30px;;\">编辑</span>\n                                    <span @click=\"deleteRow(scope.row)\" style=\"color: #2897ff;cursor: pointer;\">删除</span>\n                                </template>\n                            </el-table-column>\n                        </el-table>\n                    </el-row>\n                    <el-row>\n                    <el-pagination class=\"pagin\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\n                        :current-page=\"1\" :page-sizes=\"[10, 20, 30, 40, 50]\" :page-size=\"10\"\n                        layout=\"total, sizes, prev, pager, next, jumper\" :total=\"list.length\">\n                    </el-pagination>\n                </el-row>\n                </div>\n            </div>\n            <el-dialog title=\"添加型号\" :visible.sync=\"addDialogVisible\" @close=\"addCateDialogClose\" width=\"70%\">\n                <el-row>\n                    <el-form :model=\"addForm\" ref=\"addForm\" label-width=\"80px\">\n                        <el-form-item label=\"设备名称\" prop=\"name\">\n                            <el-input v-model=\"addForm.name\" placeholder=\"华为Mate10（录入安卓机型即可）\"></el-input>\n                        </el-form-item>\n                        <el-form-item label=\"设备编号\" prop=\"model\">\n                            <el-input v-model=\"addForm.model\" placeholder=\"ALP-AL00\"></el-input>\n                        </el-form-item> </el-form></el-row>\n                <el-row>\n                    <el-col :span=\"10\" style=\"text-align: right;\">\n                        <el-button @click=\"save\" type=\"primary\">保存</el-button>\n                    </el-col>\n                    <el-col :span=\"4\" style=\"opacity: 0;\">11</el-col>\n                    <el-col :span=\"10\" style=\"text-align: left;\">\n                        <el-button @click=\"cancel\">取消</el-button>\n                    </el-col>\n                </el-row>\n            </el-dialog>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    components: {},\n    data() {\n        return {\n            list: [],\n            currentPage: 1,\n            pagesize: 10,\n            addDialogVisible: false,\n            addForm: {\n                name: \"\",\n                model: \"\",\n            },\n            query: {\n                name: \"\",\n                model: \"\",\n            },\n            val: null,\n        };\n    },\n    computed: {},\n    mounted() {\n        this.queryEvent();\n    },\n    //方法集合\n    methods: {\n        /**\n         * @param {row} Object 选中行数据\n         * 选中行编辑\n         */\n        updataRow(row) {\n            this.addDialogVisible = true;\n            this.val = 2;\n        },\n        /**\n         * @param {row} Object 选中行数据\n         * 选中行删除\n         */\n        deleteRow(row) {\n            this.$axios.get(`deleteModel?id=${row._id}`).then(res => {\n                const { data } = res;\n                if (data.status == 200) {\n                    this.$message.success('删除成功');\n                    this.queryEvent();\n                } else {\n                    this.$message.error('删除失败');\n                }\n            })\n        },\n        handleSizeChange(val) {\n            this.pagesize = val;\n            this.queryEvent();\n        },\n        handleCurrentChange(val) {\n            this.currentPage = val;\n            this.queryEvent();\n        },\n        /** 查设备列表 */\n        queryEvent() {\n            this.$axios.post(\"getModelList\", this.query).then((res) => {\n                const { data } = res;\n                if (data.status == 200) {\n                    this.list = data.data;\n                }\n            });\n        },\n        /** 添加设备 */\n        addModel() {\n            this.addDialogVisible = true;\n            this.val = 1;\n        },\n        /**\n         * 保存颜色到数据库\n         */\n        save() {\n            let url = this.val === 1 ? \"addModel/add\" : \"addModel/updata\";\n            this.$axios.post(url, this.addForm).then((res) => {\n                const { data } = res;\n                if (data.status == 200) {\n                    this.$message.success(data.message);\n                    this.addDialogVisible = false;\n                    this.queryEvent();\n                } else {\n                    this.$message.error(data.message);\n                }\n            });\n        },\n        /** 弹框取消 */\n        cancel() {\n            this.$refs.addForm.resetFields();\n            this.addDialogVisible = false;\n            this.val = null;\n        },\n        /** 弹框关闭 */\n        addCateDialogClose() {\n            this.$refs.addForm.resetFields();\n            // this.addForm = JSON.parse(JSON.stringify(this.copyAddForm));\n            this.addDialogVisible = false;\n            this.val = null;\n        },\n    },\n};\n</script>\n<style scoped lang=\"less\">\n.col-right {\n    .btn-box {\n        width: 100%;\n        height: 34px;\n        line-height: 34px;\n        text-align: right;\n\n        .icon-item {\n            display: inline-block;\n            position: relative;\n            padding-left: 23px;\n            color: rgba(60, 60, 60, 1);\n            cursor: pointer;\n            margin: 0 10px;\n            // 双击不选中\n            -moz-user-select: none;\n            /*火狐*/\n            -webkit-user-select: none;\n            /*webkit浏览器*/\n            -ms-user-select: none;\n            /*IE10*/\n            user-select: none;\n\n            &::after {\n                display: block;\n                content: \"\";\n                position: absolute;\n                width: 18px;\n                height: 18px;\n                left: 0;\n                top: 50%;\n                transform: translate(0, -50%);\n                background-size: 100%, 100%;\n            }\n\n            &:hover {\n                color: #3a84fb;\n            }\n        }\n\n        // 添加\n        .add {\n            &::after {\n                background: url(\"../../assets/img/addicon.png\") no-repeat center;\n            }\n\n            &:hover {\n                &::after {\n                    background: url(\"../../assets/img/addicon_hover.png\") no-repeat center;\n                }\n            }\n        }\n    }\n}\n</style>\n"],"sourceRoot":"src/components/repairGoods"}]}