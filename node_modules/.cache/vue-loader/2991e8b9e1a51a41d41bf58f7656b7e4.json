{"remainingRequest":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liyanliang/Desktop/便家/tob-bianjia-clint/src/components/repairGoods/modelList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/src/components/repairGoods/modelList.vue","mtime":1686274217995},{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6IHt9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsaXN0OiBbXSwKICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgICAgICAgIHBhZ2VzaXplOiAxMCwKICAgICAgICAgICAgYWRkRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgIGFkZEZvcm06IHsKICAgICAgICAgICAgICAgIG5hbWU6ICIiLAogICAgICAgICAgICAgICAgbW9kZWw6ICIiLAogICAgICAgICAgICB9LAogICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgbmFtZTogIiIsCiAgICAgICAgICAgICAgICBtb2RlbDogIiIsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHZhbDogbnVsbCwKICAgICAgICB9OwogICAgfSwKICAgIGNvbXB1dGVkOiB7fSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5xdWVyeUV2ZW50KCk7CiAgICB9LAogICAgLy/mlrnms5Xpm4blkIgKICAgIG1ldGhvZHM6IHsKICAgICAgICAvKioKICAgICAgICAgKiBAcGFyYW0ge3Jvd30gT2JqZWN0IOmAieS4reihjOaVsOaNrgogICAgICAgICAqIOmAieS4reihjOe8lui+kQogICAgICAgICAqLwogICAgICAgIHVwZGF0YVJvdyhyb3cpIHsKICAgICAgICAgICAgdGhpcy5hZGREaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy52YWwgPSAyOwogICAgICAgIH0sCiAgICAgICAgLyoqCiAgICAgICAgICogQHBhcmFtIHtyb3d9IE9iamVjdCDpgInkuK3ooYzmlbDmja4KICAgICAgICAgKiDpgInkuK3ooYzliKDpmaQKICAgICAgICAgKi8KICAgICAgICBkZWxldGVSb3cocm93KSB7CiAgICAgICAgICAgIHRoaXMuJGF4aW9zLmdldChgZGVsZXRlTW9kZWw/aWQ9JHtyb3cuX2lkfWApLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzOwogICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJyk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWVyeUV2ZW50KCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WIoOmZpOWksei0pScpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgICAgICAgdGhpcy5wYWdlc2l6ZSA9IHZhbDsKICAgICAgICAgICAgdGhpcy5xdWVyeUV2ZW50KCk7CiAgICAgICAgfSwKICAgICAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdmFsOwogICAgICAgICAgICB0aGlzLnF1ZXJ5RXZlbnQoKTsKICAgICAgICB9LAogICAgICAgIC8qKiDmn6Xorr7lpIfliJfooaggKi8KICAgICAgICBxdWVyeUV2ZW50KCkgewogICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCJnZXRNb2RlbExpc3QiLCB0aGlzLnF1ZXJ5KS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzOwogICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdCA9IGRhdGEuZGF0YTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICAvKiog5re75Yqg6K6+5aSHICovCiAgICAgICAgYWRkTW9kZWwoKSB7CiAgICAgICAgICAgIHRoaXMuYWRkRGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgIHRoaXMudmFsID0gMTsKICAgICAgICB9LAogICAgICAgIC8qKgogICAgICAgICAqIOS/neWtmOminOiJsuWIsOaVsOaNruW6kwogICAgICAgICAqLwogICAgICAgIHNhdmUoKSB7CiAgICAgICAgICAgIGxldCB1cmwgPSB0aGlzLnZhbCA9PT0gMSA/ICJhZGRNb2RlbC9hZGQiIDogImFkZE1vZGVsL3VwZGF0YSI7CiAgICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QodXJsLCB0aGlzLmFkZEZvcm0pLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSByZXM7CiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKGRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGREaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWVyeUV2ZW50KCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICAvKiog5by55qGG5Y+W5raIICovCiAgICAgICAgY2FuY2VsKCkgewogICAgICAgICAgICB0aGlzLiRyZWZzLmFkZEZvcm0ucmVzZXRGaWVsZHMoKTsKICAgICAgICAgICAgdGhpcy5hZGREaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMudmFsID0gbnVsbDsKICAgICAgICB9LAogICAgICAgIC8qKiDlvLnmoYblhbPpl60gKi8KICAgICAgICBhZGRDYXRlRGlhbG9nQ2xvc2UoKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybS5yZXNldEZpZWxkcygpOwogICAgICAgICAgICAvLyB0aGlzLmFkZEZvcm0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY29weUFkZEZvcm0pKTsKICAgICAgICAgICAgdGhpcy5hZGREaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMudmFsID0gbnVsbDsKICAgICAgICB9LAogICAgfSwKfTsK"},{"version":3,"sources":["modelList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"modelList.vue","sourceRoot":"src/components/repairGoods","sourcesContent":["<!--  -->\n<template>\n    <div class=\"colorsList\">\n        <!-- 面包屑 -->\n        <el-breadcrumb separator=\"/\">\n            <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>\n                <a href=\"/home\">维修物品列表</a>\n            </el-breadcrumb-item>\n            <el-breadcrumb-item>机型库</el-breadcrumb-item>\n        </el-breadcrumb>\n\n        <div class=\"container\">\n            <div class=\"custom-card\">\n                <div class=\"card-header\">\n                    <div class=\"card-header-title\">添加机型</div>\n                </div>\n                <div class=\"card-main\">\n                    <el-form :model=\"query\" ref=\"ruleForm\" label-position=\"right\" size=\"small\" label-width=\"auto\"\n                        style=\"width: 100%; margin-top: 8px\" label-suffix=\":\">\n                        <el-row :gutter=\"5\">\n                            <el-col :lg=\"10\" :md=\"12\" :sm=\"24\">\n                                <el-form-item label=\"设备名称\">\n                                    <el-input v-model=\"query.name\" clearable size=\"small\"\n                                        style=\"width: 88%\"></el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :lg=\"10\" :md=\"12\" :sm=\"24\">\n                                <el-form-item label=\"设备编号\">\n                                    <el-input v-model=\"query.model\" clearable size=\"small\" style=\"width: 88%\"></el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"24\" style=\"text-align:right;padding-right:35px\">\n                                <el-button size=\"small\" type=\"primary\" @click=\"queryEvent\">查询</el-button>\n                            </el-col>\n                        </el-row>\n                    </el-form>\n                </div>\n            </div>\n\n            <div class=\"custom-card\">\n                <div class=\"card-header\">\n                    <div class=\"card-header-title\">型号列表</div>\n                </div>\n                <div class=\"card-main\">\n                    <el-col :span=\"24\" class=\"col-right\">\n                        <div class=\"btn-box\">\n                            <div class=\"icon-item add\" @click=\"addModel\">\n                                添加型号\n                            </div>\n                        </div>\n                    </el-col>\n                    <el-row>\n                        <el-table :data=\"\n                            list.slice((currentPage - 1) * pagesize, currentPage * pagesize)\n                        \" stripe border style=\"width: 100%;margin:10px 0;\"\n                            :header-cell-style=\"{ background: '#eef1f6', color: '#606266' }\">\n                            <el-table-column prop=\"name\" label=\"设备名称\"></el-table-column>\n                            <el-table-column prop=\"model\" label=\"设备编号\"></el-table-column>\n                            <el-table-column label=\"编辑\">\n                                <template slot-scope=\"scope\">\n                                    <span @click=\"updataRow(scope.row)\"\n                                        style=\"color: #2897ff;cursor: pointer;margin-right: 30px;;\">编辑</span>\n                                    <span @click=\"deleteRow(scope.row)\" style=\"color: #2897ff;cursor: pointer;\">删除</span>\n                                </template>\n                            </el-table-column>\n                        </el-table>\n                    </el-row>\n                    <el-row>\n                    <el-pagination class=\"pagin\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\n                        :current-page=\"1\" :page-sizes=\"[10, 20, 30, 40, 50]\" :page-size=\"10\"\n                        layout=\"total, sizes, prev, pager, next, jumper\" :total=\"list.length\">\n                    </el-pagination>\n                </el-row>\n                </div>\n            </div>\n            <el-dialog title=\"添加型号\" :visible.sync=\"addDialogVisible\" @close=\"addCateDialogClose\" width=\"70%\">\n                <el-row>\n                    <el-form :model=\"addForm\" ref=\"addForm\" label-width=\"80px\">\n                        <el-form-item label=\"设备名称\" prop=\"name\">\n                            <el-input v-model=\"addForm.name\" placeholder=\"华为Mate10（录入安卓机型即可）\"></el-input>\n                        </el-form-item>\n                        <el-form-item label=\"设备编号\" prop=\"model\">\n                            <el-input v-model=\"addForm.model\" placeholder=\"ALP-AL00\"></el-input>\n                        </el-form-item> </el-form></el-row>\n                <el-row>\n                    <el-col :span=\"10\" style=\"text-align: right;\">\n                        <el-button @click=\"save\" type=\"primary\">保存</el-button>\n                    </el-col>\n                    <el-col :span=\"4\" style=\"opacity: 0;\">11</el-col>\n                    <el-col :span=\"10\" style=\"text-align: left;\">\n                        <el-button @click=\"cancel\">取消</el-button>\n                    </el-col>\n                </el-row>\n            </el-dialog>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    components: {},\n    data() {\n        return {\n            list: [],\n            currentPage: 1,\n            pagesize: 10,\n            addDialogVisible: false,\n            addForm: {\n                name: \"\",\n                model: \"\",\n            },\n            query: {\n                name: \"\",\n                model: \"\",\n            },\n            val: null,\n        };\n    },\n    computed: {},\n    mounted() {\n        this.queryEvent();\n    },\n    //方法集合\n    methods: {\n        /**\n         * @param {row} Object 选中行数据\n         * 选中行编辑\n         */\n        updataRow(row) {\n            this.addDialogVisible = true;\n            this.val = 2;\n        },\n        /**\n         * @param {row} Object 选中行数据\n         * 选中行删除\n         */\n        deleteRow(row) {\n            this.$axios.get(`deleteModel?id=${row._id}`).then(res => {\n                const { data } = res;\n                if (data.status == 200) {\n                    this.$message.success('删除成功');\n                    this.queryEvent();\n                } else {\n                    this.$message.error('删除失败');\n                }\n            })\n        },\n        handleSizeChange(val) {\n            this.pagesize = val;\n            this.queryEvent();\n        },\n        handleCurrentChange(val) {\n            this.currentPage = val;\n            this.queryEvent();\n        },\n        /** 查设备列表 */\n        queryEvent() {\n            this.$axios.post(\"getModelList\", this.query).then((res) => {\n                const { data } = res;\n                if (data.status == 200) {\n                    this.list = data.data;\n                }\n            });\n        },\n        /** 添加设备 */\n        addModel() {\n            this.addDialogVisible = true;\n            this.val = 1;\n        },\n        /**\n         * 保存颜色到数据库\n         */\n        save() {\n            let url = this.val === 1 ? \"addModel/add\" : \"addModel/updata\";\n            this.$axios.post(url, this.addForm).then((res) => {\n                const { data } = res;\n                if (data.status == 200) {\n                    this.$message.success(data.message);\n                    this.addDialogVisible = false;\n                    this.queryEvent();\n                } else {\n                    this.$message.error(data.message);\n                }\n            });\n        },\n        /** 弹框取消 */\n        cancel() {\n            this.$refs.addForm.resetFields();\n            this.addDialogVisible = false;\n            this.val = null;\n        },\n        /** 弹框关闭 */\n        addCateDialogClose() {\n            this.$refs.addForm.resetFields();\n            // this.addForm = JSON.parse(JSON.stringify(this.copyAddForm));\n            this.addDialogVisible = false;\n            this.val = null;\n        },\n    },\n};\n</script>\n<style scoped lang=\"less\">\n.col-right {\n    .btn-box {\n        width: 100%;\n        height: 34px;\n        line-height: 34px;\n        text-align: right;\n\n        .icon-item {\n            display: inline-block;\n            position: relative;\n            padding-left: 23px;\n            color: rgba(60, 60, 60, 1);\n            cursor: pointer;\n            margin: 0 10px;\n            // 双击不选中\n            -moz-user-select: none;\n            /*火狐*/\n            -webkit-user-select: none;\n            /*webkit浏览器*/\n            -ms-user-select: none;\n            /*IE10*/\n            user-select: none;\n\n            &::after {\n                display: block;\n                content: \"\";\n                position: absolute;\n                width: 18px;\n                height: 18px;\n                left: 0;\n                top: 50%;\n                transform: translate(0, -50%);\n                background-size: 100%, 100%;\n            }\n\n            &:hover {\n                color: #3a84fb;\n            }\n        }\n\n        // 添加\n        .add {\n            &::after {\n                background: url(\"../../assets/img/addicon.png\") no-repeat center;\n            }\n\n            &:hover {\n                &::after {\n                    background: url(\"../../assets/img/addicon_hover.png\") no-repeat center;\n                }\n            }\n        }\n    }\n}\n</style>\n"]}]}