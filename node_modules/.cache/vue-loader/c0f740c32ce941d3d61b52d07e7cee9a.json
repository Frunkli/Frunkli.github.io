{"remainingRequest":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liyanliang/Desktop/便家/tob-bianjia-clint/src/components/repairGoods/colorsList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/src/components/repairGoods/colorsList.vue","mtime":1680709331904},{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liyanliang/Desktop/便家/tob-bianjia-clint/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6IHt9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsaXN0OiBbXSwKICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgICAgICAgIHBhZ2VzaXplOiAxMCwKICAgICAgICAgICAgYWRkRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgIGFkZEZvcm06IHsKICAgICAgICAgICAgICAgIGNvbG9yTmFtZTogIiIsCiAgICAgICAgICAgICAgICBjb2xvck51bTogIiIsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICBjb2xvck5hbWU6ICIiLAogICAgICAgICAgICAgICAgY29sb3JOdW06ICIiLAogICAgICAgICAgICB9LAogICAgICAgICAgICB2YWw6IG51bGwsCiAgICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDoge30sCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMucXVlcnlFdmVudCgpOwogICAgfSwKICAgIC8v5pa55rOV6ZuG5ZCICiAgICBtZXRob2RzOiB7CiAgICAgICAgLyoqCiAgICAgICAgICogQHBhcmFtIHtyb3d9IE9iamVjdCDpgInkuK3ooYzmlbDmja4KICAgICAgICAgKiDpgInkuK3ooYznvJbovpEKICAgICAgICAgKi8KICAgICAgICB1cGRhdGFSb3cocm93KSB7CiAgICAgICAgICAgIHRoaXMuYWRkRGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgIHRoaXMudmFsID0gMjsKICAgICAgICB9LAogICAgICAgIC8qKgogICAgICAgICAqIEBwYXJhbSB7cm93fSBPYmplY3Qg6YCJ5Lit6KGM5pWw5o2uCiAgICAgICAgICog6YCJ5Lit6KGM5Yig6ZmkCiAgICAgICAgICovCiAgICAgICAgZGVsZXRlUm93KHJvdykgewogICAgICAgICAgICB0aGlzLiRheGlvcy5nZXQoYGRlbGV0ZUNvbG9yP2lkPSR7cm93Ll9pZH1gKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IHJlczsKICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpOwogICAgICAgICAgICAgICAgICAgIHRoaXMucXVlcnlFdmVudCgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfliKDpmaTlpLHotKUnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgICAgICAgIHRoaXMucGFnZXNpemUgPSB2YWw7CiAgICAgICAgICAgIHRoaXMucXVlcnlFdmVudCgpOwogICAgICAgIH0sCiAgICAgICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHZhbDsKICAgICAgICAgICAgdGhpcy5xdWVyeUV2ZW50KCk7CiAgICAgICAgfSwKICAgICAgICAvKiog5p+l6aKc6Imy5YiX6KGoICovCiAgICAgICAgcXVlcnlFdmVudCgpIHsKICAgICAgICAgICAgdGhpcy4kYXhpb3MucG9zdCgiZ2V0Q29sb3JMaXN0IiwgdGhpcy5xdWVyeSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IHJlczsKICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3QgPSBkYXRhLmRhdGE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgLyoqIOa3u+WKoOminOiJsiAqLwogICAgICAgIGFkZENvbG9yKCkgewogICAgICAgICAgICB0aGlzLmFkZERpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICAgICAgICB0aGlzLnZhbCA9IDE7CiAgICAgICAgfSwKICAgICAgICAvKioKICAgICAgICAgKiDkv53lrZjpopzoibLliLDmlbDmja7lupMKICAgICAgICAgKi8KICAgICAgICBzYXZlKCkgewogICAgICAgICAgICBsZXQgdXJsID0gdGhpcy52YWwgPT09IDEgPyAiYWRkQ29sb3IvYWRkIiA6ICJhZGRDb2xvci91cGRhdGEiOwogICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KHVybCwgdGhpcy5hZGRGb3JtKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzOwogICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhkYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHRoaXMucXVlcnlFdmVudCgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgLyoqIOW8ueahhuWPlua2iCAqLwogICAgICAgIGNhbmNlbCgpIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy5hZGRGb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgICAgICAgIHRoaXMuYWRkRGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLnZhbCA9IG51bGw7CiAgICAgICAgfSwKICAgICAgICAvKiog5by55qGG5YWz6ZetICovCiAgICAgICAgYWRkQ2F0ZURpYWxvZ0Nsb3NlKCkgewogICAgICAgICAgICB0aGlzLiRyZWZzLmFkZEZvcm0ucmVzZXRGaWVsZHMoKTsKICAgICAgICAgICAgLy8gdGhpcy5hZGRGb3JtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmNvcHlBZGRGb3JtKSk7CiAgICAgICAgICAgIHRoaXMuYWRkRGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLnZhbCA9IG51bGw7CiAgICAgICAgfSwKICAgIH0sCn07Cg=="},{"version":3,"sources":["colorsList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"colorsList.vue","sourceRoot":"src/components/repairGoods","sourcesContent":["<!--  -->\n<template>\n    <div class=\"colorsList\">\n        <!-- 面包屑 -->\n        <el-breadcrumb separator=\"/\">\n            <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>\n                <a href=\"/home\">维修物品列表</a>\n            </el-breadcrumb-item>\n            <el-breadcrumb-item>机型颜色库</el-breadcrumb-item>\n        </el-breadcrumb>\n\n        <div class=\"container\">\n            <div class=\"custom-card\">\n                <div class=\"card-header\">\n                    <div class=\"card-header-title\">添加颜色</div>\n                </div>\n                <div class=\"card-main\">\n                    <el-form :model=\"query\" ref=\"ruleForm\" label-position=\"right\" size=\"small\" label-width=\"auto\"\n                        style=\"width: 100%; margin-top: 8px\" label-suffix=\":\">\n                        <el-row :gutter=\"5\">\n                            <el-col :lg=\"10\" :md=\"12\" :sm=\"24\">\n                                <el-form-item label=\"颜色名称\">\n                                    <el-input v-model=\"query.colorName\" clearable size=\"small\"\n                                        style=\"width: 88%\"></el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :lg=\"10\" :md=\"12\" :sm=\"24\">\n                                <el-form-item label=\"颜色编号\">\n                                    <el-input v-model=\"query.colorNum\" clearable size=\"small\" style=\"width: 88%\"></el-input>\n                                </el-form-item>\n                            </el-col>\n                            <el-col :span=\"24\" style=\"text-align:right;padding-right:35px\">\n                                <el-button size=\"small\" type=\"primary\" @click=\"queryEvent\">查询</el-button>\n                            </el-col>\n                        </el-row>\n                    </el-form>\n                </div>\n            </div>\n\n            <div class=\"custom-card\">\n                <div class=\"card-header\">\n                    <div class=\"card-header-title\">颜色列表</div>\n                </div>\n                <div class=\"card-main\">\n                    <el-col :span=\"24\" class=\"col-right\">\n                        <div class=\"btn-box\">\n                            <div class=\"icon-item add\" @click=\"addColor\">\n                                添加颜色\n                            </div>\n                        </div>\n                    </el-col>\n                    <el-row>\n                        <el-table :data=\"\n                            list.slice((currentPage - 1) * pagesize, currentPage * pagesize)\n                        \" stripe border style=\"width: 100%;margin:10px 0;\"\n                            :header-cell-style=\"{ background: '#eef1f6', color: '#606266' }\">\n                            <el-table-column prop=\"colorName\" label=\"颜色名称\"></el-table-column>\n                            <el-table-column prop=\"colorNum\" label=\"颜色编号\"></el-table-column>\n                            <el-table-column label=\"编辑\">\n                                <template slot-scope=\"scope\">\n                                    <span @click=\"updataRow(scope.row)\"\n                                        style=\"color: #2897ff;cursor: pointer;margin-right: 30px;;\">编辑</span>\n                                    <span @click=\"deleteRow(scope.row)\" style=\"color: #2897ff;cursor: pointer;\">删除</span>\n                                </template>\n                            </el-table-column>\n                        </el-table>\n                    </el-row>\n                    <el-row>\n                    <el-pagination class=\"pagin\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\n                        :current-page=\"1\" :page-sizes=\"[10, 20, 30, 40, 50]\" :page-size=\"10\"\n                        layout=\"total, sizes, prev, pager, next, jumper\" :total=\"list.length\">\n                    </el-pagination>\n                </el-row>\n                </div>\n            </div>\n            <el-dialog title=\"添加手机\" :visible.sync=\"addDialogVisible\" @close=\"addCateDialogClose\" width=\"70%\">\n                <el-row>\n                    <el-form :model=\"addForm\" ref=\"addForm\" label-width=\"80px\">\n                        <el-form-item label=\"颜色名称\" prop=\"colorName\">\n                            <el-input v-model=\"addForm.colorName\" placeholder=\"星光色、远峰蓝\"></el-input>\n                        </el-form-item>\n                        <el-form-item label=\"颜色编号\" prop=\"colorNum\">\n                            <el-input v-model=\"addForm.colorNum\" placeholder=\"#f3f3f3、#000000\"></el-input>\n                        </el-form-item> </el-form></el-row>\n                <el-row>\n                    <el-col :span=\"10\" style=\"text-align: right;\">\n                        <el-button @click=\"save\" type=\"primary\">保存</el-button>\n                    </el-col>\n                    <el-col :span=\"4\" style=\"opacity: 0;\">11</el-col>\n                    <el-col :span=\"10\" style=\"text-align: left;\">\n                        <el-button @click=\"cancel\">取消</el-button>\n                    </el-col>\n                </el-row>\n            </el-dialog>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    components: {},\n    data() {\n        return {\n            list: [],\n            currentPage: 1,\n            pagesize: 10,\n            addDialogVisible: false,\n            addForm: {\n                colorName: \"\",\n                colorNum: \"\",\n            },\n            query: {\n                colorName: \"\",\n                colorNum: \"\",\n            },\n            val: null,\n        };\n    },\n    computed: {},\n    mounted() {\n        this.queryEvent();\n    },\n    //方法集合\n    methods: {\n        /**\n         * @param {row} Object 选中行数据\n         * 选中行编辑\n         */\n        updataRow(row) {\n            this.addDialogVisible = true;\n            this.val = 2;\n        },\n        /**\n         * @param {row} Object 选中行数据\n         * 选中行删除\n         */\n        deleteRow(row) {\n            this.$axios.get(`deleteColor?id=${row._id}`).then(res => {\n                const { data } = res;\n                if (data.status == 200) {\n                    this.$message.success('删除成功');\n                    this.queryEvent();\n                } else {\n                    this.$message.error('删除失败');\n                }\n            })\n        },\n        handleSizeChange(val) {\n            this.pagesize = val;\n            this.queryEvent();\n        },\n        handleCurrentChange(val) {\n            this.currentPage = val;\n            this.queryEvent();\n        },\n        /** 查颜色列表 */\n        queryEvent() {\n            this.$axios.post(\"getColorList\", this.query).then((res) => {\n                const { data } = res;\n                if (data.status == 200) {\n                    this.list = data.data;\n                }\n            });\n        },\n        /** 添加颜色 */\n        addColor() {\n            this.addDialogVisible = true;\n            this.val = 1;\n        },\n        /**\n         * 保存颜色到数据库\n         */\n        save() {\n            let url = this.val === 1 ? \"addColor/add\" : \"addColor/updata\";\n            this.$axios.post(url, this.addForm).then((res) => {\n                const { data } = res;\n                if (data.status == 200) {\n                    this.$message.success(data.message);\n                    this.addDialogVisible = false;\n                    this.queryEvent();\n                } else {\n                    this.$message.error(data.message);\n                }\n            });\n        },\n        /** 弹框取消 */\n        cancel() {\n            this.$refs.addForm.resetFields();\n            this.addDialogVisible = false;\n            this.val = null;\n        },\n        /** 弹框关闭 */\n        addCateDialogClose() {\n            this.$refs.addForm.resetFields();\n            // this.addForm = JSON.parse(JSON.stringify(this.copyAddForm));\n            this.addDialogVisible = false;\n            this.val = null;\n        },\n    },\n};\n</script>\n<style scoped lang=\"less\">\n.col-right {\n    .btn-box {\n        width: 100%;\n        height: 34px;\n        line-height: 34px;\n        text-align: right;\n\n        .icon-item {\n            display: inline-block;\n            position: relative;\n            padding-left: 23px;\n            color: rgba(60, 60, 60, 1);\n            cursor: pointer;\n            margin: 0 10px;\n            // 双击不选中\n            -moz-user-select: none;\n            /*火狐*/\n            -webkit-user-select: none;\n            /*webkit浏览器*/\n            -ms-user-select: none;\n            /*IE10*/\n            user-select: none;\n\n            &::after {\n                display: block;\n                content: \"\";\n                position: absolute;\n                width: 18px;\n                height: 18px;\n                left: 0;\n                top: 50%;\n                transform: translate(0, -50%);\n                background-size: 100%, 100%;\n            }\n\n            &:hover {\n                color: #3a84fb;\n            }\n        }\n\n        // 添加\n        .add {\n            &::after {\n                background: url(\"../../assets/img/addicon.png\") no-repeat center;\n            }\n\n            &:hover {\n                &::after {\n                    background: url(\"../../assets/img/addicon_hover.png\") no-repeat center;\n                }\n            }\n        }\n    }\n}\n</style>\n"]}]}